
<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>雙欄時間軸示範</title>
<style>
  
  
  
  :root {
    --primary-color: #2c3e50;
    --secondary-color: #f5f5f5;
    --accent-color: #3498db;
    --text-color: #333333;
    --background-color: #ffffff;
    --card-background: #f9f9f9;
    --highlight-color: #f39c12;
  }
  * {
    margin: 0; padding: 0; box-sizing: border-box;
    font-family: 'Noto Sans TC', sans-serif, 'Microsoft JhengHei', '微軟正黑體';
  }
  body {
    background: var(--background-color);
    color: var(--text-color);
    padding: 20px;
  }
  h1 {
    text-align: center;
    color: var(--highlight-color);
    margin-bottom: 10px;
  }
  .container {
    max-width: 1200px;
    margin: 0 auto;
  }
  .subtitle {
    text-align: center;
    margin-bottom: 40px;
    opacity: 0.8;
  }
  
  /* 加入浮動效果 */
.timeline-item {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.timeline-item:hover {
  transform: translateY(-8px); /* 向上浮動 8px，可調整 */
  box-shadow: 0 15px 25px rgba(0,0,0,0.2); /* 增強陰影效果 */
}
  
  
  .timeline-wrapper {
    display: flex;
    justify-content: space-between;
    max-width: 1200px;
    margin: 0 auto;
  }
  /* 左右欄各自寬度 */
  .timeline-column {
    width: 45%;
    position: relative; /* 讓時間線能定位 */
  }
  /* 左邊時間線 */
  .left::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    right: -10px; /* 靠右 */
    width: 4px;
    background: var(--accent-color);
    border-radius: 2px;
    z-index:1;
  }
  /* 右邊時間線 */
  .right::before {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    left: -10px; /* 靠左 */
    width: 4px;
    background: var(--accent-color);
    border-radius: 2px;
    z-index:1;
  }
  /* 每個時間軸項目 */
  .timeline-item {
    background: var(--card-background);
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    padding: 20px;
    margin-bottom: 40px;
    position: relative;
  }
  /* 左欄圓點 */
  .left .timeline-item::after {
    content: '';
    position: absolute;
    top: 20px;
    right: -18px; /* 對齊左欄線 */
    width: 20px;
    height: 20px;
    background: var(--background-color);
    border: 4px solid black;
    border-radius: 50%;
    box-sizing: border-box;
  }
  /* 右欄圓點 */
  .right .timeline-item::after {
    content: '';
    position: absolute;
    top: 20px;
    left: -18px; /* 對齊右欄線 */
    width: 20px;
    height: 20px;
    background: var(--background-color);
    border: 4px solid black;
    border-radius: 50%;
    box-sizing: border-box;
  }
  /* 標題顏色差異 */
  .left .timeline-item h2 {
    color: #33A8FF; /* 藍色-通過後 */
  }
  .right .timeline-item h2 {
    color: #FF6B6B; /* 淺紅色 */
  }

  /* 手機版（保留雙線） */
  @media screen and (max-width: 768px) {
    .timeline-wrapper {
      flex-direction: column;
      gap: 40px;
    }
    .timeline-column {
      width: 100%;
    }
    /* 左線改到左邊 */
    .left::before {
      right: auto;
      left: 10px;
    }
    /* 左欄圓點改到線的右邊 */
    .left .timeline-item::after {
      right: auto;
      left: -18px;
    }
  }
</style>

</head>
<body>
<div class="container">
  <h1>核三延役公投通過／不通過後的處置流程</h1>
  <p class="subtitle"></p>
  
  <div class="timeline-wrapper">
    <div class="timeline-column left">
      <h2 style="text-align: center;">公投通過</h2><br>
      <div class="timeline-item">
        <h2>第一階段：《核管法》子法修法</h2>
        <p>《核管法》子法納入重啟所需的檢測與條件，確保核電廠運轉安全。</p>
      </div>
      <div class="timeline-item">
        <h2>第二階段：立法程序</h2>
        <p></p>
      </div>
      <div class="timeline-item">
        <h2>第三階段：核電廠檢測</h2>
        <p>台電依據法規對欲延役的核電廠進行檢測。</p>
      </div>
        <div class="timeline-item">
        <h2>第四階段：核安會審查</h2>
        <p>核電廠檢測結果送交核安會審查。</p>
      </div>
      <div class="timeline-item">
        <h2>第五階段：最終判定</h2>
        <p>經審查後決定核電廠是否可重啟。</p>
      </div>
    </div>

    <div class="timeline-line"></div>

    <div class="timeline-column right">
      <h2 style="text-align: center;">公投不通過</h2><br>
      <div class="timeline-item">
        <h2>第一階段：除役過渡期</h2>
        <p>進行廠內設備清理，興建乾式貯存設施，移出冷卻燃料棒。</p>
      </div>
      <div class="timeline-item">
        <h2>第二階段：拆除階段</h2>
        <p>拆除反應爐及廠房組件，預估時間較長。</p>
      </div>
      <div class="timeline-item">
        <h2>第三階段：土地復原與輻射偵測</h2>
        <p>進行土地復原與殘餘輻射偵測，至少需5年才能達標。</p>
      </div>
      <div class="timeline-item">
        <h2>第四階段：最終判定</h2>
        <p>根據檢測結果決定是否允許未來重啟。</p>
      </div>
    
 <script>
        // 等待頁面載入完成
        document.addEventListener('DOMContentLoaded', function() {
            // 啟動數字動畫
            setTimeout(() => {
                animateNumbers();
            }, 500);
            
            // 監聽滾動事件，顯示時間軸項目
            window.addEventListener('scroll', revealTimelineItems);
            // 初始檢查是否有可見的時間軸項目
            revealTimelineItems();
            
            // 如果在iframe中，發送高度訊息給父頁面
            if (window.self !== window.top) {
                // 定期發送高度訊息，確保動畫完成後高度正確
                setInterval(function() {
                    const height = document.body.scrollHeight;
                    window.parent.postMessage({ type: 'resize', height: height }, '*');
                }, 500);
            }
        });
        
        // 數字動畫函數
        function animateNumbers() {
            const numberElements = document.querySelectorAll('.number');
            
            numberElements.forEach(numberElement => {
                const target = parseInt(numberElement.getAttribute('data-target'));
                const duration = 2000; // 動畫持續時間（毫秒）
                const frameDuration = 1000 / 60; // 每幀持續時間（60fps）
                const totalFrames = Math.round(duration / frameDuration);
                
                let frame = 0;
                let currentNumber = 0;
                
                // 根據數字大小調整增量
                const increment = target > 1000 ? target / 100 : target / 50;
                
                // 使用 requestAnimationFrame 實現平滑動畫
                const counter = setInterval(() => {
                    frame++;
                    
                    // 使用緩動函數使動畫更自然
                    const progress = frame / totalFrames;
                    const easedProgress = easeOutQuart(progress);
                    
                    currentNumber = Math.round(easedProgress * target);
                    
                    // 更新數字顯示
                    if (target >= 1000) {
                        // 大數字使用千分位分隔
                        numberElement.textContent = currentNumber.toLocaleString('zh-TW');
                    } else {
                        numberElement.textContent = currentNumber;
                    }
                    
                    // 動畫結束
                    if (frame === totalFrames) {
                        clearInterval(counter);
                        numberElement.textContent = target >= 1000 ? target.toLocaleString('zh-TW') : target;
                    }
                }, frameDuration);
            });
        }
        
        // 緩動函數 - 快速開始，慢速結束
        function easeOutQuart(x) {
            return 1 - Math.pow(1 - x, 4);
        }
        
        // 顯示時間軸項目
        function revealTimelineItems() {
            const timelineItems = document.querySelectorAll('.timeline-item');
            
            timelineItems.forEach(item => {
                const itemTop = item.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;
                
                // 當項目進入視窗時顯示
                if (itemTop < windowHeight * 0.85) {
                    item.classList.add('visible');
                }
            });
        }
    </script>

</body>
</html>

